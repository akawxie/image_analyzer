(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{9470:function(e,r,t){Promise.resolve().then(t.bind(t,3944))},3944:function(e,r,t){"use strict";t.d(r,{ImageAnalyzerComponent:function(){return O}});var a=t(7437),s=t(2265),l=t(3505),n=t(7053),o=t(7712),i=t(1994),d=t(3335);function c(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,d.m6)((0,i.W)(r))}let u=(0,o.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),m=s.forwardRef((e,r)=>{let{className:t,variant:s,size:l,asChild:o=!1,...i}=e,d=o?n.g7:"button";return(0,a.jsx)(d,{className:c(u({variant:s,size:l,className:t})),ref:r,...i})});m.displayName="Button";let f=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("input",{ref:r,className:c("border rounded-md p-2",t),...s})});f.displayName="Input";let p=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{ref:r,className:c("rounded-xl border bg-card text-card-foreground shadow",t),...s})});p.displayName="Card";let x=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{ref:r,className:c("flex flex-col space-y-1.5 p-6",t),...s})});x.displayName="CardHeader";let g=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{ref:r,className:c("font-semibold leading-none tracking-tight",t),...s})});g.displayName="CardTitle",s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{ref:r,className:c("text-sm text-muted-foreground",t),...s})}).displayName="CardDescription";let h=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{ref:r,className:c("p-6 pt-0",t),...s})});h.displayName="CardContent",s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{ref:r,className:c("flex items-center p-6 pt-0",t),...s})}).displayName="CardFooter";var v=t(8842);let b=s.forwardRef((e,r)=>{let{className:t,children:s,...l}=e;return(0,a.jsxs)(v.fC,{ref:r,className:c("relative overflow-hidden",t),...l,children:[(0,a.jsx)(v.l_,{className:"h-full w-full rounded-[inherit]",children:s}),(0,a.jsx)(y,{}),(0,a.jsx)(v.Ns,{})]})});b.displayName=v.fC.displayName;let y=s.forwardRef((e,r)=>{let{className:t,orientation:s="vertical",...l}=e;return(0,a.jsx)(v.gb,{ref:r,orientation:s,className:c("flex touch-none select-none transition-colors","vertical"===s&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===s&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...l,children:(0,a.jsx)(v.q4,{className:"relative flex-1 rounded-full bg-border"})})});y.displayName=v.gb.displayName;var N=t(4930);let w=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)(N.fC,{ref:r,className:c("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...s})});w.displayName=N.fC.displayName,s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)(N.Ee,{ref:r,className:c("aspect-square h-full w-full",t),...s})}).displayName=N.Ee.displayName;let j=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)(N.NY,{ref:r,className:c("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...s})});j.displayName=N.NY.displayName;var R=t(7689),C=t(4743);let k=(0,o.j)("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),_=s.forwardRef((e,r)=>{let{className:t,variant:s,...l}=e;return(0,a.jsx)("div",{ref:r,role:"alert",className:c(k({variant:s}),t),...l})});_.displayName="Alert";let A=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("h5",{ref:r,className:c("mb-1 font-medium leading-none tracking-tight",t),...s})});A.displayName="AlertTitle";let E=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{ref:r,className:c("text-sm [&_p]:leading-relaxed",t),...s})});E.displayName="AlertDescription";var z=t(3464),I=t(3145);function O(){let[e,r]=(0,s.useState)([]),{messages:t,input:n,setInput:o}=(0,l.RJ)(),[i,d]=(0,s.useState)(""),[c,u]=(0,s.useState)([]),v=(0,s.useRef)(null),y=(0,s.useRef)(null);(0,s.useEffect)(()=>{var e;null===(e=y.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},[t,c]);let N=async r=>{r.preventDefault(),n.trim()||e.length>0?(u(e=>[...e,{type:"text",content:n,role:"user"}]),await O(n),o("")):d("Please upload an image or enter a prompt.")},k=e=>{u(r=>[...r,{type:"text",content:e,role:"user"}]),O(e)},O=async r=>{if(0===e.length)return;let t=await U(e[0]);try{let e=(await z.Z.post("https://api.groq.com/openai/v1/chat/completions",{model:"llama-3.2-11b-vision-preview",messages:[{role:"user",content:[{type:"text",text:r},{type:"image_url",image_url:{url:"data:image/jpeg;base64,".concat(t)}}]}],temperature:1,max_tokens:1024,top_p:1,stream:!1,stop:null},{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat("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")}})).data.choices[0].message.content;u(r=>[...r,{type:"text",content:"AI: ".concat(e),role:"ai"}])}catch(e){z.Z.isAxiosError(e)?console.error("API Error:",e.response?e.response.data:e.message):console.error("Unexpected Error:",e),d("Error processing the image. Please check the console for more details.")}},U=e=>new Promise((r,t)=>{let a=new FileReader;a.readAsDataURL(e),a.onload=()=>{a.result&&"string"==typeof a.result?r(a.result.split(",")[1]):t(Error("File reading failed: result is null or not a string"))},a.onerror=e=>t(e)});return(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-blue-50 to-white p-4 sm:p-6 md:p-8",children:(0,a.jsxs)(p,{className:"w-full max-w-3xl mx-auto shadow-lg",children:[(0,a.jsx)(x,{className:"bg-blue-600 text-white rounded-t-lg",children:(0,a.jsx)(g,{className:"text-3xl font-bold text-center",children:"Image Analyzer"})}),(0,a.jsxs)(h,{className:"p-6",children:[(0,a.jsx)(b,{className:"h-[50vh] pr-4 mb-6 border border-gray-200 rounded-lg shadow-inner",children:(0,a.jsxs)("div",{className:"p-4",children:[c.map((e,r)=>(0,a.jsx)("div",{className:"flex ".concat("user"===e.role?"justify-end":"justify-start"," mb-4"),children:(0,a.jsxs)("div",{className:"flex items-start max-w-[80%] ".concat("user"===e.role?"flex-row-reverse":"flex-row"),children:[(0,a.jsx)(w,{className:"w-8 h-8",children:(0,a.jsx)(j,{children:"user"===e.role?"U":"AI"})}),(0,a.jsx)("div",{className:"mx-2 p-3 rounded-lg ".concat("user"===e.role?"bg-blue-100":"bg-gray-100"),children:"image"===e.type?(0,a.jsx)(I.default,{src:e.content,alt:"User uploaded",width:500,height:300,className:"max-w-full h-auto rounded"}):(0,a.jsx)("p",{className:"text-sm",children:e.content})})]})},r)),(0,a.jsx)("div",{ref:y})," "]})}),i&&(0,a.jsxs)(_,{variant:"destructive",className:"mb-4",children:[(0,a.jsx)(A,{children:"Error"}),(0,a.jsx)(E,{children:i})]}),(0,a.jsx)("div",{className:"mb-6 grid grid-cols-2 gap-2",children:["Caption this image","Describe the main elements","What emotions does it evoke?","Identify any text present","Generate a prompt to recreate this image"].map((e,r)=>(0,a.jsx)(m,{variant:"outline",size:"sm",onClick:()=>k(e),className:"text-xs bg-gray-50 hover:bg-gray-100 transition-colors duration-200 rounded-full text-left px-4 py-2 h-auto",children:e.length>30?e.substring(0,30)+"...":e},r))}),(0,a.jsx)("form",{onSubmit:N,className:"space-y-4",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(m,{type:"button",variant:"outline",size:"icon",className:"bg-white hover:bg-blue-50 transition-colors duration-200",onClick:()=>{var e;null===(e=v.current)||void 0===e||e.click()},children:(0,a.jsx)(R.Z,{className:"h-4 w-4 text-blue-600"})}),(0,a.jsx)(f,{ref:v,id:"file-upload",type:"file",accept:"image/*",onChange:e=>{if(e.target.files&&e.target.files.length>0){let t=e.target.files[0];r([t]);let a=URL.createObjectURL(t);u(e=>[...e,{type:"image",content:a,filename:t.name,role:"user"}]),d("")}},className:"hidden"}),(0,a.jsx)(f,{value:n,onChange:e=>o(e.target.value),placeholder:"Type your prompt here...",className:"flex-grow border-gray-300 focus:border-blue-500 focus:ring-blue-500 rounded-md shadow-sm"}),(0,a.jsx)(m,{type:"submit",className:"bg-blue-600 hover:bg-blue-700 transition-colors duration-200",children:(0,a.jsx)(C.Z,{className:"h-4 w-4"})})]})})]})]})})}}},function(e){e.O(0,[408,971,117,744],function(){return e(e.s=9470)}),_N_E=e.O()}]);